modelscript_version: 0.1
modelscript_components:
  - name: SkippingUarchModel
    from_taxonomic_component: SkippingUarch
    export_attributes_to_model: true
    instance_aliases:
    - alias: LFNN
      instances:
      - cp_lf_none_none
      - b_lf_none_none
    - alias: LFNF
      instances:
      - cp_lf_none_lut
      - cp_lf_none_pbubble
      - b_lf_none_lut
      - b_lf_none_pbubble
    scale_parameters:
      - name: clock
        type: real
        export_as_model_attribute: true
        inherit: true
      - name: technology
        type: string
        export_as_model_attribute: true
        inherit: true
    arch_buffer_action_map:
    - buffer_upstream_of_port: md_in_leader
      upstream_action: metadata_write
      downstream_action: fill_leader
    - buffer_upstream_of_port: md_in_follower
      upstream_action: metadata_write
      downstream_action: fill_follower
    - buffer_upstream_of_port: pos_out_leader
      upstream_action: read
      downstream_action: skip_leader
    - buffer_upstream_of_port: pos_out_follower
      upstream_action: read
      downstream_action: skip_follower
    actions:
      - name: fill_leader
        implementations:
        - alias: LFNN
          subcomponents: 
          - name: IntersectionLF
            actions:
            - name: fill
        - alias: LFNF
          subcomponents: 
          - name: IntersectionLF
            actions:
            - name: fill
          - name: FillGateLeader
            actions:
            - name: idle
      - name: fill_follower
#        subcomponents: 
#        - name: IntersectionLF
#          actions:
#          - name: fill
      - name: skip_leader
#        subcomponents: 
#        - name: IntersectionLF
#          actions:
#          - name: fill      
      - name: skip_follower
        implementations:
        - alias: LFNN
          subcomponents: 
          - name: IntersectionLF
            actions:
            - name: intersect
          - name: PgenFollower
            actions:
            - name: gen
        - alias: LFNF
          subcomponents: 
          - name: IntersectionLF
            actions:
            - name: intersect
          - name: PgenFollower
            actions:
            - name: gen
          - name: FillGateLeader
            actions:
            - name: gate
    implementations:
      - name: LFNN
        taxonomic_instance_alias: LFNN
        objective:
          actions:
            - name: fill_leader
              energy: 0
            - name: fill_follower
              energy: 0
            - name: skip_leader
              energy: 0
            - name: skip_follower
              energy: 0
          area: 0
      - name: LFNF
        taxonomic_instance_alias: LFNF
        objective:
          actions:
            - name: fill_leader
              energy: 0
            - name: fill_follower
              energy: 0
            - name: skip_leader
              energy: 0
            - name: skip_follower
              energy: 0
          area: 0